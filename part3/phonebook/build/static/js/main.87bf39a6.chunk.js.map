{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleFilterInput","handleFilterInputChange","value","onChange","PersonForm","text","Persons","person","onClick","name","number","baseUrl","newObject","axios","post","then","response","data","id","put","get","delete","Notification","message","type","className","App","useState","persons","setPersons","useEffect","personService","intialPersons","catch","error","console","log","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","newNotification","setNewNotification","contactsToShow","filter","toLowerCase","includes","event","target","onSubmit","preventDefault","find","p1","p2","window","confirm","updatedPerson","returnedPerson","p","concat","setTimeout","contactObject","date","Date","toISOString","map","filteredP","handleDelete","ReactDOM","render","document","getElementById"],"mappings":"oLAceA,EAXA,SAAC,GAAiD,IAAhDC,EAA+C,EAA/CA,kBAAkBC,EAA6B,EAA7BA,wBAC/B,OACI,sDAAwB,uBAAQC,MAAOF,EAAmBG,SAAUF,QCK7DG,EAPI,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,KAAKH,EAAoB,EAApBA,MAAMC,EAAc,EAAdA,SAC7B,OACI,8BACH,gCAAME,EAAN,KAAa,uBAAOH,MAAOA,EAAOC,SAAUA,UCElCG,EALC,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,OAAOC,EAAa,EAAbA,QACtB,OACA,+BAAKD,EAAOE,KAAZ,MAAqBF,EAAOG,OAA5B,IAAoC,wBAAQF,QAASA,EAAjB,wB,gBCJlCG,EAAU,eAuBD,EAhBA,SAAAC,GAEX,OADgBC,IAAMC,KAAKH,EAAQC,GACpBG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc9B,EAXA,SAACC,EAAGN,GAEf,OADgBC,IAAMM,IAAN,UAAaR,EAAb,YAAwBO,GAAKN,GAC9BG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS9B,EArBA,WAEX,OADgBJ,IAAMO,IAAIT,GACXI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB9B,EALC,SAAAC,GAEZ,OADgBL,IAAMQ,OAAN,UAAgBV,EAAhB,YAA2BO,IAC5BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCI9BK,EAvBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAiB,OAAZA,GAIkB,OAAjBA,EAAQC,KAHH,KAOW,UAAjBD,EAAQC,KAEJ,qBAAKC,UAAU,QAAf,SAAwBF,EAAQlB,OAGnB,YAAjBkB,EAAQC,KACD,qBAAKC,UAAU,UAAf,SAA0BF,EAAQlB,YAD7C,GCiJUqB,EA1JH,WACV,MAA+BC,mBAAS,IAAxC,mBAAQC,EAAR,KAAiBC,EAAjB,KASFC,qBAPa,WACXC,IAEChB,MAAM,SAAAiB,GAAkBH,EAAWG,MACnCC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,QAGjB,IAEb,MAA8BP,oBAAS,GAAvC,mBACA,GADA,UAC8BA,mBAAS,KAAvC,mBAAOU,EAAP,KAAgBC,EAAhB,KACA,EAAkCX,mBAAS,IAA3C,mBAAOY,EAAP,KAAkBC,EAAlB,KACA,EAAkCb,mBAAS,IAA3C,mBAAOc,EAAP,KAAkBC,EAAlB,KACA,EAA8Cf,mBAAS,MAAvD,mBAAOgB,EAAP,KAAwBC,EAAxB,KAoFAT,QAAQC,IAAIK,GAKX,IAAMI,EAAiBjB,EAAQkB,QAAO,SAACvC,GACrC,OAAOA,EAAOE,KAAKsC,cAAcC,SAASP,EAAUM,kBAwBvD,OACE,gCACE,2CACA,cAAC,EAAD,CAAcxB,QAASoB,IACvB,cAAC,EAAD,CAAQ3C,kBAAmByC,EAAWxC,wBApCV,SAACgD,GAAD,OAAWP,EAAaO,EAAMC,OAAOhD,UAqCjE,yCACA,uBAAMiD,SAtHS,SAACF,GAClBA,EAAMG,iBAGN,IAGQ7C,EAASqB,EAAQyB,MAAK,SAAC9C,GAAD,OAHX+C,EAIP/C,EAAOE,KAJI8C,EAIElB,EAHvBiB,EAAGP,gBAAkBQ,EAAGR,cADR,IAACO,EAAIC,KAOvB,GAAIhD,GACF,GAAIiD,OAAOC,QAAP,UAAkBpB,EAAlB,2EAAoG,CACtG,IAAMqB,EAAa,2BAAOnD,GAAP,IAAeG,OAAS6B,EAAU9B,KAAO4B,IAC5DN,EACQxB,EAAOW,GAAGwC,GACjB3C,MAAK,SAAC4C,GACL9B,EAAWD,EACVkB,QAAO,SAACc,GAAD,OAAOA,EAAEnD,OAASiD,EAAcjD,QACvCoD,OAAOF,IACRf,EAAmB,CAClBvC,KAAK,GAAD,OAAKqD,EAAcjD,KAAnB,kCAAiDiD,EAAchD,OAA/D,KACJc,KAAM,YAGPsC,YAAW,kBAAMlB,EAAmB,QAAM,QAE3CX,OAAM,SAACC,GACNL,EAAWD,EAAQkB,QAAO,SAACc,GAAD,OAAOA,EAAEnD,OAASF,EAAOE,SACnDmC,EAAmB,CACjBvC,KAAK,GAAD,OAAKE,EAAOE,KAAZ,8CACJe,KAAM,UAERsC,YAAW,WACTlB,EAAmB,QAClB,aAxBT,CA8BA,IAAMmB,EAAgB,CACpBtD,KAAM4B,EACN3B,OAAQ6B,EACRyB,MAAM,IAAIC,MAAOC,eAGnBnC,EACQgC,GACPhD,MAAK,SAAA4C,GACJ9B,EAAWD,EAAQiC,OAAOF,IAC1BrB,EAAW,IACXE,EAAa,IAEZI,EACG,CACAvC,KAAK,SAAD,OAAW0D,EAActD,MAC7Be,KAAM,YAGVsC,YAAW,WACTlB,EAAmB,QAClB,QAEHX,OAAM,SAACC,GACPU,EAAmB,CACjBvC,KAAM6B,EAAMlB,SAASC,KAAKiB,MAC1BV,KAAM,eAmDR,UACE,cAAC,EAAD,CAAYnB,KAAK,OAAOH,MAAQmC,EAASlC,SA/CtB,SAAC8C,GACxBX,EAAWW,EAAMC,OAAOhD,UA+CpB,cAAC,EAAD,CAAYG,KAAK,SAASH,MAAQqC,EAAWpC,SA5C3B,SAAC8C,GACvBT,EAAaS,EAAMC,OAAOhD,UA4CtB,8BACE,wBAAQsB,KAAK,SAAb,sBAGJ,yCACA,8BACE,6BACGqB,EAAesB,KAAK,SAAA5D,GAAM,OACxB,cAAC,EAAD,CAAyBA,OAAQA,EAAQC,QAAS,kBAtCvC,SAACU,GACrB,IAAMX,EAASqB,EAAQyB,MAAK,SAACO,GAAD,OAAOA,EAAE1C,KAAOA,KACtBsC,OAAOC,QAAP,iBAAyBlD,EAAOE,KAAhC,OAEpBsB,EAAsBb,GAAIH,MAAK,WAE7B,IAAMqD,EAAYxC,EAAQkB,QAAO,SAACvC,GAAD,OAAYA,EAAOW,KAAOA,KAC3DW,EAAWuC,GAGXxB,EAAmB,CACjBvC,KAAK,GAAD,OAAKE,EAAOE,KAAZ,sCACJe,KAAM,eA0BoD6C,CAAa9D,EAAOW,MAA7DX,EAAOW,e,YCnJlCoD,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.87bf39a6.chunk.js","sourcesContent":["import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst Filter = ({handleFilterInput,handleFilterInputChange}) => {\n    return (\n        <div> filter shown with <input  value={handleFilterInput} onChange={handleFilterInputChange} />\n        </div>\n    )\n}\n\nFilter.propTypes = {\n    handleFilterInput: PropTypes.string.isRequired,\n    handleFilterInputChange: PropTypes.func.isRequired\n  }\nexport default Filter","import React from 'react'\n\n\nconst PersonForm = ({ text,value,onChange }) =>{\n    return(\n        <div>\n     <div>{text}: <input value={value} onChange={onChange}/></div>\n     </div>\n    )\n}\nexport default PersonForm","import React from 'react'\n\n\nconst Persons = ({ person,onClick }) =>{\n    return(\n    <li>{person.name} - {person.number} <button onClick={onClick}>delete</button></li>\n    )\n}\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl,newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id,newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\n\nconst xdelete = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { create,update,getAll,xdelete }","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if ( message === null ){\n        return null\n    }\n\n     if ( message.type === null ){\n         return null\n     }\n\n     if (message.type === 'error'){\n         return(\n             <div className=\"error\">{message.text}</div>\n         )\n     }\n     if (message.type === 'success'){\n         return(<div className=\"success\">{message.text}</div>\n        )\n     }\n    //  return (\n    //      <div className='error'>{ message.text }</div>\n    //  )\n}\n\nexport default Notification","import React,{ useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () =>{\n  const [ persons, setPersons] = useState([])\n\nconst hook = () => {\n  personService\n  .getAll()\n  .then( intialPersons => {setPersons(intialPersons)})\n  .catch((error) => console.log(error))\n}\n  \nuseEffect(hook,[])\n\n  const [showAll, setShowAll] = useState(true)\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [newNotification, setNewNotification] = useState(null)\n  \n  const addContact = (event) => {\n    event.preventDefault()\n\n\n    const equalName = (p1, p2) =>\n      p1.toLowerCase() === p2.toLowerCase();\n\n      const person = persons.find((person) =>\n      equalName(person.name, newName)\n    );\n\n    if (person){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) { \n        const updatedPerson = {...person, number : newNumber,name : newName};\n        personService\n        .update(person.id,updatedPerson)\n        .then((returnedPerson)=>{\n          setPersons(persons\n          .filter((p) => p.name !== updatedPerson.name)\n          .concat(returnedPerson))\n          setNewNotification({\n           text: `${updatedPerson.name} number was updated to ${updatedPerson.number}!`,\n           type: \"success\"\n          }\n          )\n          setTimeout(() => setNewNotification(null),5000)\n        })\n        .catch((error) =>{\n          setPersons(persons.filter((p) => p.name !== person.name));\n          setNewNotification({\n            text: `${person.name} has already been removed from the server!`,\n            type: \"error\"  \n          })\n          setTimeout(() => {\n            setNewNotification(null)\n          }, 5000);\n        })\n      }\n      return\n    } \n\n    const contactObject = {\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString(),      \n    }\n\n    personService\n    .create(contactObject)\n    .then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n      setNewName('')\n      setNewNumber('')\n       //setNewNotification(`Added ${contactObject.name}`)\n       setNewNotification(\n          {\n          text: `Added ${contactObject.name}`,\n          type: \"success\"  \n        })\n\n      setTimeout(() => {\n        setNewNotification(null)\n      }, 5000);\n    })\n     .catch((error) => {\n      setNewNotification({\n        text: error.response.data.error,\n        type: \"error\",\n      });\n    })\n  }\n\n  const handleNewContact = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterInputChange = (event) => setNewFilter(event.target.value)\n\n  console.log(newFilter)\n  \n  //  const contactsToShow = showAll ? persons : persons.filter(person => person.name.toLowerCase() === newFilter.toLowerCase())\n\n\n   const contactsToShow = persons.filter((person)=> {\n     return person.name.toLowerCase().includes(newFilter.toLowerCase())\n   })\n   \n   const handleDelete = (id) => {\n    const person = persons.find((p) => p.id === id);\n    const confirmDelete = window.confirm(`Delete ${person.name}?`);\n    if (confirmDelete) {\n      personService.xdelete(id).then(() => {\n        //Update state --> filter out deleted person\n        const filteredP = persons.filter((person) => person.id !== id);\n        setPersons(filteredP);\n\n\n        setNewNotification({\n          text: `${person.name} has been removed from the server!`,\n          type: \"success\"  \n        })\n\n\n        // reset filter\n        // setNewFilter(\"\");\n      });\n    }\n  };\n  return(\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={newNotification} />\n      <Filter handleFilterInput={newFilter} handleFilterInputChange={handleFilterInputChange} />\n      <h2>add new</h2>\n      <form onSubmit={ addContact }>\n        <PersonForm text=\"Name\" value ={newName} onChange={handleNewContact} />\n        <PersonForm text=\"Number\" value ={newNumber} onChange={handleNewNumber}/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <div>\n        <ul>\n          {contactsToShow.map( person => \n             <Persons key={person.id} person={person} onClick={()=> handleDelete(person.id)}/>\n            )}\n        </ul>\n      </div>\n    </div>\n  )\n}\nexport default App\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nimport personService from './services/persons'\nimport { allowedNodeEnvironmentFlags } from 'process';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}